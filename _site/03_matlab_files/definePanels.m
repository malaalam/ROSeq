function [myhandles] = definePanels( source, eventdata, varargin )
% *************************************************************************
% This function 'definePanels' creates the skeleton of ROSeq- i.e. the
% various panels, subpanels and their children
%
% *************************************************************************
% Define a structure that contains handles to all the objects in
% figureHandle
% *************************************************************************
myhandles = guidata(source);
% *************************************************************************
% Define some factors - bx, by, w, w2, h, h2 - for building the structure
% of ROSeq
% *************************************************************************
bx=1/48;
factor=4;
w=(1-3*bx)/(factor+1);
w2=factor*w;

by=1/48;
factor=4;
h=(1-3*by)/(factor+1);
h2=factor*h;
% *************************************************************************
% Define the Notes Panel. Here, the user can leave some personal comments
% regarding the project
% *************************************************************************

myhandles.notesPanel = uipanel('Title', 'Notes', ...
    'Position',  [bx 2*by+h2 w h], ...
    'units', 'normalized', 'FontAngle', 'italic');

myhandles.notes=uicontrol('style', 'edit', ...
    'parent', myhandles.notesPanel, ...
    'units','normalized', ...
    'FontSize', 1.2, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ....
    'position', [bx by 1-2*bx 1-2*by], ...
    'string',myhandles.notesString, 'Enable', 'on', 'Max', 50, 'Min', 1,...
    'HorizontalAlignment', 'left');

% *************************************************************************
% Define the Status Panel. Here, some messages indicating instructions to
% the user ('black color') , error messages ('red color')  and confirmation
% of correct actions ('green color') are displayed
% *************************************************************************

myhandles.statusPanel = uipanel('Title', 'Status', ...
    'Position',  [2*bx+w 2*by+h2 w2 h], ...
    'units', 'normalized', 'FontAngle', 'italic');

myhandles.status(1)=uicontrol('style', 'edit', ...
    'parent', myhandles.statusPanel, ...
    'units','normalized', ...
    'FontSize', 1.2, ...
    'FontUnits', 'normalized', ...
     'FontWeight', 'bold', ....
    'position', [bx by 1-2*bx 1-2*by], ...
    'string',myhandles.statusString, 'Enable', 'inactive', ...
    'Max', 50, 'Min', 1,...
    'HorizontalAlignment', 'left');
% *************************************************************************
% Define the Pre-Processing Panel. It is populated with various panels to
% pre-process the raw read count data.
% *************************************************************************
myhandles.preProcessingPanel = uipanel('Title', 'Pre-processing', ...
    'Position',  [bx by 46*bx h2], ...
    'units', 'normalized', 'FontAngle', 'italic');
bx=1/48;
w=(1-3*bx)/2;
by=1/48;
h=(1-11*by)/8;
h=(1-5*by)/12;
myhandles.preProcessing(1) = uicontrol('style', 'radiobutton', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 8*by+7*h w h], ...
    'string','Upload Raw Read Count File', 'Enable', 'on', 'Value', 0);


myhandles.preProcessing(2) = uicontrol('style', 'radiobutton', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [2*bx+w 8*by+7*h w h], ...
    'string','Upload Normalized Read Count File', 'Enable', 'on');

myhandles.preProcessing(3) = uicontrol('style', 'pushbutton', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 7*by+6*h w h], ...
    'string','Open File', 'Enable', 'on', 'Visible', 'off');

myhandles.preProcessing(4) = uicontrol('style', 'text', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 7*by+6*h 2*w+bx h], ...
    'string','', 'Visible', 'off');

w1=(1-5*bx)/4;
myhandles.preProcessing(5) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 6*by+5*h 3*w1+2*bx h], ...
    'string',' State the number of genes to be considered for analysis', 'Enable', 'off', ...
    'Visible', 'off');

myhandles.preProcessing(6) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [4*bx+3*w1 6*by+5*h w1 h], ...
    'string','', 'Enable', 'on', ...
    'Visible', 'off');



myhandles.preProcessing(7) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 5*by+4*h 3*w1+2*bx h], ...
    'string','Set the minimum number of non-zero read counts', 'Enable', 'off', ...
    'Visible', 'off');

myhandles.preProcessing(8) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [4*bx+3*w1 5*by+4*h w1 h], ...
    'string','6', 'Enable', 'on', ...
    'Visible', 'off');

myhandles.preProcessing(9) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
     'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 4*by+3*h 2*w+bx h], ...
    'string','Specify the Start and End Columns of Groups 1 and 2', 'Enable', 'off', ...
    'Visible', 'on');


myhandles.preProcessing(10) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 3*by+2*h w1 h], ...
    'string','Start (Gr 1)', 'HorizontalAlignment','Center', 'Enable', 'on');

myhandles.preProcessing(11) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [2*bx+w1 3*by+2*h w1 h], ...
    'string','End (Gr 1)', 'HorizontalAlignment','Center', 'Enable', 'on');

myhandles.preProcessing(12) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [3*bx+2*w1 3*by+2*h w1 h], ...
    'string','Start (Gr 2)', 'HorizontalAlignment','Center', 'Enable', 'on');

myhandles.preProcessing(13) = uicontrol('style', 'edit', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [4*bx+3*w1 3*by+2*h w1 h], ...
    'string','End (Gr 2)', 'HorizontalAlignment','Center', 'Enable', 'on');


myhandles.preProcessing(14) = uicontrol('style', 'pushbutton', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx 2*by+h w h], ...
    'string','Solve for D.E.', 'Enable', 'off', 'Backgroundcolor', [211/255 211/255 211/255], ...
    'ForegroundColor','black');

myhandles.preProcessing(15) = uicontrol('style', 'pushbutton', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [2*bx+w 2*by+h w h], ...
    'string','Save Results', 'Enable', 'off',  'Backgroundcolor', [211/255 211/255 211/255], ...
    'ForegroundColor','black');

myhandles.preProcessing(16) = uicontrol('style', 'pushbutton', ...
    'parent', myhandles.preProcessingPanel, ...
    'units','normalized', ...
    'FontSize', 4.5, ...
    'FontUnits', 'normalized', ...
    'FontWeight', 'bold', ...
    'position', [bx by w h], ...
    'string','Reset Pre-Processing', 'Enable', 'on',  'Backgroundcolor', [211/255 211/255 211/255] , ...
    'ForegroundColor','black');



% *************************************************************************
% Save the structure/data 'myhandles' in the 'figureHandle - source'
% *************************************************************************
guidata(source, myhandles)
end